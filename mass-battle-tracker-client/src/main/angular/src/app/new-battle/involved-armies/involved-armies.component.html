<mat-card style="margin:10vh 2vw 0vw 2vw;">
    <form *ngIf="battle" style="width: 100%;">
        <!-- VALUE SET IN THE PREVIOUS VIEW, DISABLED -->
        <mat-form-field style="width: 100%;">
          <mat-label>Name of the battle</mat-label>
          <input matInput value="{{battle.name}}" disabled>
        </mat-form-field>
        <!-- VALUE SET IN THE PREVIOUS VIEW, DISABLED -->
        <mat-form-field style="width: 100%;">
          <mat-label>Description of the battle</mat-label>
          <textarea matInput value="{{battle.description}}" disabled></textarea>
        </mat-form-field>
        <!-- INVOLVED ARMIES -->
        <mat-label>Involved armies:</mat-label>
        <button type="button" (click)="onAddArmyClicked()" style="margin-left: 1vw; width: 3vw; height: 3vw; vertical-align: middle; line-height: normal; padding: 0 !important;" mat-mini-fab color="primary" aria-label="Example icon button with a plus one icon">
          <mat-icon style="padding: 0 !important;">add</mat-icon>
        </button>
        <!-- "NO ARMIES" LABEL -->
        <mat-label *ngIf="!battle.involvedArmies.length && !addingNewArmy" style="display: block;">No armies</mat-label>
        <!-- ADD NEW ARMY -->
        <mat-card *ngIf="addingNewArmy" style = "margin-top: 2vw;">
            <form [formGroup]="newArmyForm">
                <mat-label style="font-weight: bold;">New army</mat-label>
                <br/>
                <mat-form-field style="margin-top:1vw;">
                    <mat-label>Army name</mat-label>
                    <input formControlName="armyName" matInput placeholder="e.g. Army of the Crashing Wave">
                </mat-form-field>
                <br/>
                <mat-form-field style="margin-top:1vw;">
                    <mat-label>Army clan</mat-label>
                    <input formControlName="armyClan" matInput placeholder="e.g. Dragon Clan">
                </mat-form-field>
                <br/>
                <mat-form-field style="margin-top:1vw;">
                    <mat-label>Army Strength</mat-label>
                    <input formControlName="armyStrength" matInput placeholder="e.g. 100">
                </mat-form-field>
                <br/>
                <mat-form-field style="margin-top:1vw;">
                    <mat-label>Army Discipline</mat-label>
                    <input formControlName="armyDiscipline" matInput placeholder="e.g. 100">
                </mat-form-field>
                <br/>
                <mat-label>Cohorts:</mat-label>
                <button type="button" (click)="onAddCohortClicked()" style="margin-left: 1vw; width: 3vw; height: 3vw; vertical-align: middle; line-height: normal; padding: 0 !important;" mat-mini-fab color="primary">
                    <mat-icon style="padding: 0 !important;">add</mat-icon>
                </button>
                <!-- ADD NEW COHORT -->
                <mat-card *ngIf="addingNewCohort" style = "margin-top: 1vw;">
                    <form [formGroup]="newCohortForm">
                        <mat-label style="font-weight: bold;">New Cohort</mat-label>
                        <br/>
                        <mat-form-field style="margin-top:1vw;">
                            <mat-label>Leader of the cohort</mat-label>
                            <input formControlName="leaderName" matInput placeholder="e.g. Mirumoto Anzu">
                        </mat-form-field>
                        <br/>
                        <mat-form-field style="margin-top:1vw;">
                            <mat-label>Cohort name</mat-label>
                            <input formControlName="cohortName" matInput placeholder="e.g. light cavalry">
                        </mat-form-field>
                        <br/>
                        <button type="button" (click)="onNewCohortSubmit()" mat-raised-button color="primary" style="display: block; width: 100%; margin-top: 2vw; margin-bottom: 2vw;">Add cohort</button>
                    </form>
                </mat-card>
                <!-- LIST OF COHORTS -->
                <mat-label style="display: block;" *ngFor="let cohort of armyInProgress.cohorts">
                    <mat-card style = "margin-top: 2vw;">
                        <div>
                            <b>{{cohort.name}}</b>, led by {{cohort.leader.name}}
                        </div>
                    </mat-card>
                </mat-label>
                <button type="button" (click)="onNewArmySubmit()" mat-raised-button color="primary" style="display: block; width: 100%; margin-top: 2vw; margin-bottom: 2vw;">Add army</button>
            </form>
        </mat-card>
        <!-- LIST OF ARMIES -->
        <mat-label style="display: block;" *ngFor="let army of battle.involvedArmies">
            <mat-card style = "margin-top: 2vw;">
                <div>
                    <b>{{army.name}}</b> ({{army.cohorts.length}} cohorts)
                </div>
                <div>
                    <b>Strength: </b> {{army.strength}}
                </div>
                <div>
                    <b>Discipline: </b> {{army.discipline}}
                </div>
            </mat-card>
        </mat-label>
      </form>
    <button mat-raised-button color="primary" (click)="onFinalSubmit()" style="display: block; width: 100%; margin-top: 2vw; margin-bottom: 2vw;">Next</button>
</mat-card>